<!DOCTYPE html>
<html>
  <head>
    <title>Knight's Tour</title>
    <style>
      table {
        border-collapse: collapse;
        margin: auto;
      }
      td {
        width: 50px;
        height: 50px;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        border: 1px solid black;
      }
      .visited {
        background-color: yellow;
      }
      .current {
        background-color: green;
      }

      h1{
    margin: 3%;
}
    </style>
  </head>
  <body>
    <h1 align="center">Knight's Tour</h1>
    <table id="board"></table>
    <script>
      const boardSize = 8;
      const board = document.getElementById("board");
      const cells = [];

      // Initialize the chessboard.
      for (let row = 0; row < boardSize; row++) {
        const tr = document.createElement("tr");
        cells[row] = [];
        for (let col = 0; col < boardSize; col++) {
          const td = document.createElement("td");
          td.textContent = `${row},${col}`;
          td.addEventListener("click", () => startTour(row, col));
          cells[row][col] = td;
          tr.appendChild(td);
        }
        board.appendChild(tr);
      }

      function startTour(row, col) {
        // Clear the board.
        for (let r = 0; r < boardSize; r++) {
          for (let c = 0; c < boardSize; c++) {
            cells[r][c].classList.remove("visited", "current");
          }
        }

        // Perform the tour.
        let step = 1;
        let x = row;
        let y = col;
        cells[x][y].classList.add("visited");
        while (step < boardSize * boardSize) {
          const moves = findMoves(x, y);
          if (moves.length === 0) {
            // Dead end, backtrack.
            break;
          }
          // Choose the next move.
          const [nextX, nextY] = moves[Math.floor(Math.random() * moves.length)];
          x = nextX;
          y = nextY;
          step++;
          cells[x][y].classList.add("visited", "current");
        }
      }

      function findMoves(x, y) {
        const moves = [];
        const deltas = [
          [-2, -1],
          [-1, -2],
          [1, -2],
          [2, -1],
          [2, 1],
          [1, 2],
          [-1, 2],
          [-2, 1],
        ];
        for (const [dx, dy] of deltas) {
          const newX = x + dx;
          const newY = y + dy;
          if (newX >= 0 && newX < boardSize && newY >= 0 && newY < boardSize && !cells[newX][newY].classList.contains("visited")) {
            moves.push([newX, newY]);
          }
        }
        return moves;
      }
    </script>
  </body>
</html>
